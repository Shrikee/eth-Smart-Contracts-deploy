(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{657:function(e,t,n){"use strict";n.r(t);n(37),n(62);var o,r=n(20),c=(n(63),n(64),n(5),n(359)),l=n.n(c),d=n(430),h={data:function(){return{name:"",longitude:"",latitude:"",createdTime:""}},mounted:function(){this.getLocation(),this.getPermission()},methods:{getLocation:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.latitude=t.coords.latitude.toString(),e.longitude=t.coords.longitude.toString()}))},createShop:(o=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new l.a(l.a.givenProvider),console.log(t),e.next=4,t.eth.getAccounts();case 4:return n=e.sent,console.log(n),o=new t.eth.Contract(d.abi,"0x4FF348F4a4E445d607D6731482957FB1c40D5dB4"),this.createdTime=(new Date).toString(),e.next=10,o.methods.createShop(this.name,this.latitude,this.longitude,this.createdTime).send({from:n[0]});case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)}),getPermission:function(){window.addEventListener("load",Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=12;break}return window.web3=new l.a(ethereum),e.prev=2,e.next=5,ethereum.enable();case 5:web3.eth.sendTransaction({}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:e.next=13;break;case 12:window.web3?(window.web3=new l.a(web3.currentProvider),web3.eth.sendTransaction({})):console.log("Non-Ethereum browser detected. You should consider trying MetaMask!");case 13:case"end":return e.stop()}}),e,null,[[2,8]])}))))}}},m=n(56),v=n(76),w=n.n(v),f=n(157),x=n(653),_=n(656),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-flex",[n("v-text-field",{attrs:{label:"Shop name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),n("v-btn",{attrs:{color:"success",dark:"",large:""},on:{click:e.createShop}},[e._v("Add shop")]),e._v(" "),n("v-flex",[e._v("Shop name: "+e._s(e.name))]),e._v(" "),n("v-flex",[e._v("latitude: "+e._s(e.latitude))]),e._v(" "),n("v-flex",[e._v("longitude: "+e._s(e.longitude))])],1)}),[],!1,null,null,null),k=component.exports;w()(component,{VBtn:f.a,VFlex:x.a,VTextField:_.a});var S={components:{AddShop:k}},F=n(654),T=Object(m.a)(S,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[t("v-flex",{attrs:{xs12:"",sm8:"",md6:""}},[t("AddShop")],1)],1)}),[],!1,null,null,null);t.default=T.exports;w()(T,{VFlex:x.a,VLayout:F.a})}}]);